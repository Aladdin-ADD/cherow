"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var cherow=require("cherow");function validateBreakOrContinueLabel(e,t,n,r){const o=hasLabel(e,n);o||cherow.tolerant(e,t,30,n),!r||2&o||cherow.tolerant(e,t,29,n)}function addLabel(e,t){void 0===e.labelSet&&(e.labelSet={}),e.labelSet[`$${t}`]=16&e.token?2:1}function popLabel(e,t){e.labelSet[`$${t}`]=0}function hasLabel(e,t){return e.labelSet?e.labelSet[`$${t}`]:0}function finishNode(e,t,n,r){const{lastIndex:o,lastLine:s,lastColumn:a,sourceFile:i,index:c}=t;return 2&e&&(r.start=n.index,r.end=o),16&e&&(r.loc={start:{line:n.line,column:n.column},end:{line:s,column:a}},i&&(r.loc.source=i)),r}function expect(e,t,n,r=1){return e.token!==n&&cherow.report(e,r,cherow.tokenDesc(e.token)),nextToken(e,t),!0}function consume(e,t,n){return e.token===n&&(nextToken(e,t),!0)}function nextToken(e,t){return e.lastIndex=e.index,e.lastLine=e.line,e.lastColumn=e.column,e.token=cherow.Scanner.scan(e,t)}const hasBit=(e,t)=>(e&t)===t;function consumeSemicolon(e,t){return 524288&e.token||1&e.flags?consume(e,t,17301521):cherow.report(e,!(131072&t)&&131072&e.token?36:1,cherow.tokenDesc(e.token))}function parseExpressionCoverGrammar(e,t,n){const{flags:r,pendingExpressionError:o}=e;e.flags|=6,e.pendingExpressionError=void 0;const s=n(e,t);if(e.pendingExpressionError){const{error:n,line:r,column:o,index:s}=e.pendingExpressionError;cherow.constructError(e,t,s,r,o,n)}return e.flags&=-7,2&r&&(e.flags|=2),4&r&&(e.flags|=4),e.pendingExpressionError=o,s}function restoreExpressionCoverGrammar(e,t,n){const{flags:r,pendingExpressionError:o}=e;e.flags|=6,e.pendingExpressionError=void 0;const s=n(e,t);return 2&e.flags&&2&r||(e.flags&=-3),4&e.flags&&4&r||(e.flags&=-5),e.pendingExpressionError=o||e.pendingExpressionError,s}function swapContext(e,t,n,r,o=0){return t&=-917505,1&n&&(t|=262144),2&n&&(t|=131072),r(e,t,o)}function validateParams(e,t,n){const r=new Map;for(let o=0;o<n.length;o++){const s=`@${n[o]}`;r.get(s)?cherow.tolerant(e,t,79):r.set(s,!0)}}const reinterpret=(e,t,n)=>{switch(n.type){case"Identifier":case"ArrayPattern":case"AssignmentPattern":case"ObjectPattern":case"RestElement":case"MetaProperty":return;case"ArrayExpression":n.type="ArrayPattern";for(let r=0;r<n.elements.length;++r)null!==n.elements[r]&&reinterpret(e,t,n.elements[r]);return;case"ObjectExpression":n.type="ObjectPattern";for(let r=0;r<n.properties.length;r++)reinterpret(e,t,n.properties[r]);return;case"Property":return void reinterpret(e,t,n.value);case"SpreadElement":n.type="RestElement","ArrayExpression"===n.argument.type||"ObjectExpression"===n.argument.type||isValidSimpleAssignmentTarget(n.argument)||cherow.tolerant(e,t,69),reinterpret(e,t,n.argument);break;case"AssignmentExpression":return n.type="AssignmentPattern",delete n.operator,void reinterpret(e,t,n.left);case"MemberExpression":if(!(524288&t))return;default:cherow.tolerant(e,t,524288&t?75:71,n.type)}};function lookahead(e,t,n){const{tokenValue:r,flags:o,line:s,column:a,startColumn:i,index:c,lastColumn:p,startLine:u,lastLine:l,lastIndex:f,startIndex:m,tokenRaw:d,token:h,lastValue:x,tokenRegExp:g}=e,y=n(e,t);return e.index=c,e.token=h,e.tokenValue=r,e.tokenValue=r,e.flags=o,e.line=s,e.column=a,e.tokenRaw=d,e.lastValue=x,e.startColumn=i,e.lastColumn=p,e.startLine=u,e.lastLine=l,e.lastIndex=f,e.startIndex=m,e.tokenRegExp=g,y}function isValidSimpleAssignmentTarget(e){return"Identifier"===e.type||"MemberExpression"===e.type}function getLocation(e){return{line:e.startLine,column:e.startColumn,index:e.startIndex}}function isValidIdentifier(e,t){return 4096&e?!(8192&e&&131072&t)&&(!(1073741824&t)&&(65536==(65536&t)||36864==(36864&t))):65536==(65536&t)||36864==(36864&t)||20480==(20480&t)}function isLexical(e,t){nextToken(e,t);const{token:n}=e;return!!(1082327040&n||33574984===n||36864==(36864&n))}function isEndOfCaseOrDefaultClauses(e){return 12368===e.token||17301519===e.token||12363===e.token}function nextTokenIsLeftParenOrPeriod(e,t){return nextToken(e,t),50331659===e.token||16777229===e.token}function nextTokenisIdentifierOrParen(e,t){nextToken(e,t);const{token:n}=e;return 1073807360&n||50331659===n}function nextTokenIsLeftParen(e,t){return nextToken(e,t),50331659===e.token}function nextTokenIsFuncKeywordOnSameLine(e,t){return nextToken(e,t),!(1&e.flags)&&33566808===e.token}function isPropertyWithPrivateFieldKey(e){return!!e.property&&"PrivateName"===e.property.type}function parseAndValidateIdentifier(e,t){const{token:n}=e;if(4096&t){if(8192&t&&131072&n&&cherow.tolerant(e,t,38,cherow.tokenDesc(n)),1073741824&n&&cherow.tolerant(e,t,38,cherow.tokenDesc(n)),65536==(65536&n)||36864==(36864&n))return parseIdentifier(e,t);cherow.report(e,1,cherow.tokenDesc(n))}if(262144&t&&1073741824&n?cherow.tolerant(e,t,38,cherow.tokenDesc(n)):131072&t&&131072&n&&cherow.tolerant(e,t,38,cherow.tokenDesc(n)),65536==(65536&n)||36864==(36864&n)||20480==(20480&n))return parseIdentifier(e,t);cherow.report(e,1,cherow.tokenDesc(e.token))}function nameIsArgumentsOrEval(e){return"eval"===e||"arguments"===e}function setPendingError(e){e.errorLocation={line:e.startLine,column:e.startColumn,index:e.startIndex}}function isEqualTagNames(e){switch(e.type){case"JSXIdentifier":return e.name;case"JSXNamespacedName":return`${isEqualTagNames(e.namespace)}:${isEqualTagNames(e.name)}`;case"JSXMemberExpression":return`${isEqualTagNames(e.object)}.${isEqualTagNames(e.property)}`}}function isInstanceField(e){const{token:t}=e;return 17301519===t||17301521===t||83886109===t}function validateUpdateExpression(e,t,n,r){4096&t&&nameIsArgumentsOrEval(n.name)&&cherow.tolerant(e,t,66,r),isValidSimpleAssignmentTarget(n)||cherow.tolerant(e,t,4)}function setPendingExpressionError(e,t){e.pendingExpressionError={error:cherow.errorMessages[t],line:e.line,column:e.column,index:e.index}}function validateCoverParenthesizedExpression(e,t){const{token:n}=e;return 8388608&n?e.flags|=8:4194304==(4194304&n)?(setPendingError(e),t|=2):20480==(20480&n)?(setPendingError(e),t|=4):131072==(131072&n)&&(setPendingError(e),e.flags|=8192),t}function validateAsyncArgumentList(e,t,n){const{token:r}=e;return 2&e.flags?8388608&r?e.flags|=8:4194304==(4194304&r)?(setPendingError(e),n|=8):131072==(131072&r)?(setPendingError(e),n|=32):1073741824==(1073741824&r)&&(setPendingError(e),n|=16):cherow.tolerant(e,t,75),n}function isStartOfFunctionType(e,t){switch(e.token){case 167774015:return!0;case 50331659:return lookahead(e,t,isUnambiguouslyStartOfFunctionType);default:return!1}}function isUnambiguouslyStartOfFunctionType(e,t){switch(nextToken(e,t),e.token){case 16:case 14:return!0;case 33619969:case 33566815:switch(nextToken(e,t),e.token){case 16777237:case 16777234:case 22:case 83886109:return!0;case 16:if(nextToken(e,t),10===e.token)return!0;default:return!1}default:return!1}}function keywordTypeFromName(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";default:return}}function iStartOfMappedType(e,t){return nextToken(e,t),65659===e.token&&nextToken(e,t),41943059===e.token&&(nextToken(e,t),!!(65536&e.token)&&(nextToken(e,t),168834865===e.token))}function isUnambiguouslyIndexSignature(e,t){return nextToken(e,t),!!(65536&e.token)&&(nextToken(e,t),16777237===e.token)}function parseStatementListItem(e,t){switch(e.token){case 33566808:return parseFunctionDeclaration(e,t);case 120:case 33566797:return parseClassDeclaration(e,t);case 33574984:return parseLetOrExpressionStatement(e,65536|t);case 33566793:return parseVariableStatement(e,4259840|t);case 299116:return parseAsyncFunctionDeclarationOrStatement(e,t);case 33566810:if(1&t&&lookahead(e,t,nextTokenIsLeftParenOrPeriod))return parseExpressionStatement(e,65536|t);case 12371:8192&t&&cherow.tolerant(e,t,32,cherow.tokenDesc(e.token));default:return parseStatement(e,2097152|t)}}function parseStatement(e,t){switch(e.token){case 33566791:return parseVariableStatement(e,65536|t);case 17301521:return parseEmptyStatement(e,t);case 33566814:return parseSwitchStatement(e,t);case 41943052:return parseBlockStatement(e,t);case 12380:return parseReturnStatement(e,t);case 12377:return parseIfStatement(e,t);case 12369:return parseDoWhileStatement(e,t);case 12402:return parseWhileStatement(e,t);case 12387:return parseWithStatement(e,t);case 12362:return parseBreakStatement(e,t);case 12366:return parseContinueStatement(e,t);case 12367:return parseDebuggerStatement(e,t);case 302002272:return parseThrowStatement(e,t);case 12385:return parseTryStatement(e,536870912|t);case 12374:return parseForStatement(e,8388608|t);case 299116:return lookahead(e,t,nextTokenIsFuncKeywordOnSameLine)&&cherow.tolerant(e,t,33),parseExpressionOrLabelledStatement(e,2097152|t);case 33566808:cherow.tolerant(e,t,4096&t?17:18);case 33566797:cherow.tolerant(e,t,19,cherow.tokenDesc(e.token));default:return parseExpressionOrLabelledStatement(e,t)}}function parseEmptyStatement(e,t){const n=getLocation(e);return nextToken(e,t),finishNode(t,e,n,{type:"EmptyStatement"})}function parseContinueStatement(e,t){const n=getLocation(e);expect(e,t,12366),48&e.flags||cherow.tolerant(e,t,28,cherow.tokenDesc(e.token));let r=null;const{tokenValue:o}=e;return!(1&e.flags)&&69632&e.token&&(r=parseIdentifier(e,t),validateBreakOrContinueLabel(e,t,o,!0)),consumeSemicolon(e,t),finishNode(t,e,n,{type:"ContinueStatement",label:r})}function parseBreakStatement(e,t){const n=getLocation(e);expect(e,t,12362);let r=null;const{tokenValue:o}=e;return!(1&e.flags)&&69632&e.token?(r=parseIdentifier(e,t),validateBreakOrContinueLabel(e,t,o,!1)):48&e.flags||cherow.tolerant(e,t,28,"break"),consumeSemicolon(e,t),finishNode(t,e,n,{type:"BreakStatement",label:r})}function parseIfStatement(e,t){const n=getLocation(e);expect(e,t,12377),expect(e,t,50331659);const r=parseExpression(e,-1073741825&t|65536);return expect(e,t,16),finishNode(t,e,n,{type:"IfStatement",test:r,consequent:parseConsequentOrAlternate(e,536870912|t),alternate:consume(e,t,12370)?parseConsequentOrAlternate(e,t):null})}function parseConsequentOrAlternate(e,t){return 4096&t||33566808!==e.token?parseStatement(e,-2097153&t):parseFunctionDeclaration(e,t)}function parseDebuggerStatement(e,t){const n=getLocation(e);return expect(e,t,12367),consumeSemicolon(e,t),finishNode(t,e,n,{type:"DebuggerStatement"})}function parseTryStatement(e,t){const n=getLocation(e);expect(e,t,12385);const r=parseBlockStatement(e,t),o=12364===e.token?parseCatchBlock(e,t):null,s=consume(e,t,12373)?parseBlockStatement(e,t):null;return o||s||cherow.tolerant(e,t,77),finishNode(t,e,n,{type:"TryStatement",block:r,handler:o,finalizer:s})}function parseCatchBlock(e,t){const n=getLocation(e);expect(e,t,12364);let r=null;if(1&t?consume(e,t,50331659):expect(e,t,50331659)){const n=[];r=parseBindingIdentifierOrPattern(e,t,n),validateParams(e,t,n),expect(e,t,16)}return finishNode(t,e,n,{type:"CatchClause",param:r,body:parseBlockStatement(e,t)})}function parseThrowStatement(e,t){const n=getLocation(e);expect(e,t,302002272),1&e.flags&&cherow.tolerant(e,t,78);const r=parseExpression(e,-1073741825&t|65536);return consumeSemicolon(e,t),finishNode(t,e,n,{type:"ThrowStatement",argument:r})}function parseExpressionStatement(e,t){const n=getLocation(e),r=parseExpression(e,-1073741825&t|65536);return consumeSemicolon(e,t),finishNode(t,e,n,{type:"ExpressionStatement",expression:r})}function parseDirective(e,t){const n=getLocation(e),r=e.tokenRaw.slice(1,-1),o=parseExpression(e,-1073741825&t|65536);return consumeSemicolon(e,t),finishNode(t,e,n,{type:"ExpressionStatement",expression:o,directive:r})}function parseExpressionOrLabelledStatement(e,t){const n=getLocation(e),{tokenValue:r,token:o}=e,s=parseExpression(e,-1075838977&t|65536);if(69632&o&&16777237===e.token){let a;return 262144&t&&1073741824&o&&cherow.tolerant(e,t,55),expect(e,t,16777237,81),hasLabel(e,r)&&cherow.tolerant(e,t,27,r),addLabel(e,r),a=!(4096&t)&&2097152&t&&33566808===e.token?parseFunctionDeclaration(e,t):parseStatement(e,t),popLabel(e,r),finishNode(t,e,n,{type:"LabeledStatement",label:s,body:a})}return consumeSemicolon(e,t),finishNode(t,e,n,{type:"ExpressionStatement",expression:s})}function parseDoWhileStatement(e,t){const n=getLocation(e);expect(e,t,12369);const r=parseIterationStatement(e,t);expect(e,t,12402),expect(e,t,50331659);const o=parseExpression(e,-1073741825&t|65536);return expect(e,t,16),consume(e,t,17301521),finishNode(t,e,n,{type:"DoWhileStatement",body:r,test:o})}function parseWhileStatement(e,t){const n=getLocation(e);expect(e,t,12402),expect(e,t,50331659);const r=parseExpression(e,-1073741825&t|65536);return expect(e,t,16),finishNode(t,e,n,{type:"WhileStatement",test:r,body:parseIterationStatement(e,t)})}function parseBlockStatement(e,t){const n=getLocation(e),r=[];for(expect(e,t,41943052);17301519!==e.token;)r.push(parseStatementListItem(e,t));return expect(e,t,17301519),finishNode(t,e,n,{type:"BlockStatement",body:r})}function parseReturnStatement(e,t){const n=getLocation(e);1048608&t||cherow.tolerant(e,t,16),32768&e.flags&&cherow.tolerant(e,t,2),expect(e,t,12380);const r=524288&e.token||1&e.flags?null:parseExpression(e,-1074790401&t|65536);return consumeSemicolon(e,t),finishNode(t,e,n,{type:"ReturnStatement",argument:r})}function parseIterationStatement(e,t){const n=e.flags;e.flags|=36;const r=parseStatement(e,-2097153&t|536870912);return e.flags=n,r}function parseWithStatement(e,t){4096&t&&cherow.tolerant(e,t,35);const n=getLocation(e);expect(e,t,12387),expect(e,t,50331659);const r=parseExpression(e,-1073741825&t|65536);return expect(e,t,16),finishNode(t,e,n,{type:"WithStatement",object:r,body:parseStatement(e,-2097153&t)})}function parseSwitchStatement(e,t){const n=getLocation(e);expect(e,t,33566814),expect(e,t,50331659);const r=parseExpression(e,-1073741825&t|65536);expect(e,t,16),expect(e,536870912|t,41943052);const o=[],s=e.flags;e.flags|=16;let a=!1;for(;17301519!==e.token;){const n=parseCaseOrDefaultClauses(e,t);o.push(n),null===n.test&&(a&&cherow.tolerant(e,t,31),a=!0)}return e.flags=s,expect(e,t,17301519),finishNode(t,e,n,{type:"SwitchStatement",discriminant:r,cases:o})}function parseCaseOrDefaultClauses(e,t){const n=getLocation(e);let r=null;consume(e,t,12363)?r=parseExpression(e,-1073741825&t|65536):expect(e,t,12368),expect(e,t,16777237);const o=[];for(;!isEndOfCaseOrDefaultClauses(e);)o.push(parseStatementListItem(e,65536|t));return finishNode(t,e,n,{type:"SwitchCase",test:r,consequent:o})}function parseVariableStatement(e,t,n=!0){const r=getLocation(e),{token:o}=e,s=33566793===o;nextToken(e,t);const a=parseVariableDeclarationList(e,t,s);return n&&consumeSemicolon(e,t),finishNode(t,e,r,{type:"VariableDeclaration",kind:cherow.tokenDesc(o),declarations:a})}function parseLetOrExpressionStatement(e,t,n=!0){return lookahead(e,t,isLexical)?parseVariableStatement(e,4194304|t,n):parseExpressionOrLabelledStatement(e,t)}function parseAsyncFunctionDeclarationOrStatement(e,t){return lookahead(e,t,nextTokenIsFuncKeywordOnSameLine)?parseAsyncFunctionOrAsyncGeneratorDeclaration(e,t):parseStatement(e,t)}function parseForStatement(e,t){const n=getLocation(e);expect(e,t,12374);const r=!!(131072&t&&consume(e,t,33788013));expect(e,536870912|t,50331659);const{token:o}=e;let s,a=null,i=null,c=null,p="ForStatement",u=null,l=null;33566793===o||33574984===o&&lookahead(e,t,isLexical)?c=parseVariableStatement(e,-65537&t|4194304,!1):33566791===o?c=parseVariableStatement(e,-65537&t,!1):17301521!==o&&(i=getLocation(e),a=restoreExpressionCoverGrammar(e,-65537&t|536870912,parseAssignmentExpression)),consume(e,t,1085554)?(p="ForOfStatement",a?(4&e.flags&&"AssignmentExpression"!==a.type||cherow.tolerant(e,t,71),reinterpret(e,t,a)):a=c,s=parseAssignmentExpression(e,65536|t)):consume(e,t,168834865)?(a?(4&e.flags||cherow.tolerant(e,t,71),reinterpret(e,t,a)):a=c,p="ForInStatement",s=parseExpression(e,-1073741825&t|65536)):(16777234===e.token&&(a=parseSequenceExpression(e,t,a,i)),c&&(a=c),expect(e,t,17301521),u=17301521!==e.token?parseExpression(e,-1073741825&t|65536):null,expect(e,t,17301521),l=16!==e.token?parseExpression(e,-1073741825&t|65536):null),expect(e,t,16);const f=parseIterationStatement(e,t);return finishNode(t,e,n,"ForOfStatement"===p?{type:p,body:f,left:a,right:s,await:r}:s?{type:p,body:f,left:a,right:s}:{type:p,body:f,init:a,test:u,update:l})}function parseJSXRootElement(e,t){const n=getLocation(e);let r,o=[],s=null,a=!1;expect(e,t,167774015);const i=167774016===e.token;if(i)r=parseJSXOpeningFragment(e,t,n);else{r=parseJSXOpeningElement(e,t,parseJSXElementName(e,t),parseJSXAttributes(e,t),a=consume(e,t,167774773),n)}if(i)return parseJSXFragment(e,t,r,n);if(!a){o=parseJSXChildren(e,t),s=parseJSXClosingElement(e,t);const n=isEqualTagNames(r.name),a=isEqualTagNames(s.name);n!==a&&cherow.report(e,83,a)}return finishNode(t,e,n,{type:"JSXElement",children:o,openingElement:r,closingElement:s})}function parseJSXOpeningElement(e,t,n,r,o,s){return 268435456&t&&o?expect(e,t,167774016):nextJSXToken(e),finishNode(t,e,s,{type:"JSXOpeningElement",name:n,attributes:r,selfClosing:o})}function parseJSXFragment(e,t,n,r){return finishNode(t,e,r,{type:"JSXFragment",children:parseJSXChildren(e,t),openingElement:n,closingFragment:parseJSXClosingFragment(e,t)})}function parseJSXOpeningFragment(e,t,n){return nextJSXToken(e),finishNode(t,e,n,{type:"JSXOpeningFragment"})}function nextJSXToken(e){return e.token=scanJSXToken(e)}function scanJSXToken(e){if(e.index>=e.source.length)return 524288;e.lastIndex=e.startIndex=e.index;const t=e.source.charCodeAt(e.index);if(60===t)return e.index++,e.column++,cherow.Scanner.consumeOpt(e,47)?25:167774015;if(123===t)return e.index++,e.column++,41943052;for(;e.index<e.source.length;){e.index++,e.column++;const t=e.source.charCodeAt(e.index);if(123===t||60===t)break}return 121}function parseJSXChildren(e,t){const n=[];for(;25!==e.token;)n.push(parseJSXChild(e,t));return n}function parseJSXText(e,t){const n=getLocation(e),r=e.source.slice(e.startIndex,e.index);e.token=scanJSXToken(e);const o=finishNode(t,e,n,{type:"JSXText",value:r});return 8&t&&(o.raw=r),o}function parseJSXChild(e,t){switch(e.token){case 33619969:case 121:return parseJSXText(e,t);case 41943052:return parseJSXExpression(e,-268435457&t);case 167774015:return parseJSXRootElement(e,-268435457&t);default:cherow.report(e,0)}}function parseJSXAttributes(e,t){const n=[];for(;e.index<e.source.length&&167774773!==e.token&&167774016!==e.token;)n.push(parseJSXAttribute(e,t));return n}function parseJSXSpreadAttribute(e,t){const n=getLocation(e);expect(e,t,41943052),expect(e,t,14);const r=parseExpressionCoverGrammar(e,-268435457&t,parseAssignmentExpression);return expect(e,t,17301519),finishNode(t,e,n,{type:"JSXSpreadAttribute",argument:r})}function parseJSXNamespacedName(e,t,n,r){return expect(e,t,16777237),finishNode(t,e,r,{type:"JSXNamespacedName",namespace:n,name:parseJSXIdentifier(e,t)})}function parseJSXAttributeName(e,t){const n=getLocation(e),r=parseJSXIdentifier(e,t);return 16777237===e.token?parseJSXNamespacedName(e,t,r,n):r}function parseJSXAttributeValue(e,t){switch(scanJSXAttributeValue(e,t)){case 33554435:return parseLiteral(e,t);case 41943052:return parseJSXExpressionContainer(e,268435456|t);case 167774015:return parseJSXRootElement(e,268435456|t);default:cherow.tolerant(e,t,85)}}function parseJSXAttribute(e,t){const n=getLocation(e);if(41943052===e.token)return parseJSXSpreadAttribute(e,t);scanJSXIdentifier(e);const r=parseJSXAttributeName(e,t);return finishNode(t,e,n,{type:"JSXAttribute",value:83886109===e.token?parseJSXAttributeValue(e,t):null,name:r})}function scanJSXAttributeValue(e,t){e.lastIndex=e.index;const n=e.source.charCodeAt(e.index);switch(n){case 34:case 39:return scanJSXString(e,t,n);default:return nextToken(e,t)}}function scanJSXString(e,t,n){const r=e.index;e.index++,e.column++;let o="",s=e.source.charCodeAt(e.index);for(;s!==n;)o+=cherow.Scanner.fromCodePoint(s),e.index++,e.column++,s=e.source.charCodeAt(e.index),e.index>=e.source.length&&cherow.report(e,5);return e.index++,e.column++,8&t&&(e.tokenRaw=e.source.slice(r,e.index)),e.tokenValue=o,33554435}function parseJSXEmptyExpression(e,t){return finishNode(t,e,getLocation(e),{type:"JSXEmptyExpression"})}function parseJSXSpreadChild(e,t){const n=getLocation(e);expect(e,t,14);const r=parseExpression(e,t);return expect(e,t,17301519),finishNode(t,e,n,{type:"JSXSpreadChild",expression:r})}function parseJSXExpressionContainer(e,t){const n=getLocation(e);expect(e,t,41943052),17301519===e.token&&cherow.tolerant(e,t,82);const r=parseExpressionCoverGrammar(e,-268435457&t,parseAssignmentExpression);return expect(e,t,17301519),finishNode(t,e,n,{type:"JSXExpressionContainer",expression:r})}function parseJSXExpression(e,t){const n=getLocation(e);if(expect(e,t,41943052),14===e.token)return parseJSXSpreadChild(e,t);const r=17301519===e.token?parseJSXEmptyExpression(e,t):parseExpressionCoverGrammar(e,t,parseAssignmentExpression);return nextJSXToken(e),finishNode(t,e,n,{type:"JSXExpressionContainer",expression:r})}function parseJSXClosingFragment(e,t){const n=getLocation(e);return expect(e,t,25),expect(e,t,167774016),finishNode(t,e,n,{type:"JSXClosingFragment"})}function parseJSXClosingElement(e,t){const n=getLocation(e);expect(e,t,25);const r=parseJSXElementName(e,t);return 268435456&t?expect(e,t,167774016):nextJSXToken(e),finishNode(t,e,n,{type:"JSXClosingElement",name:r})}function parseJSXIdentifier(e,t){const{token:n,tokenValue:r,tokenRaw:o}=e;69632&n||cherow.tolerant(e,t,1,cherow.tokenDesc(e.token));const s=getLocation(e);nextToken(e,t);const a=finishNode(t,e,s,{type:"JSXIdentifier",name:r});return 256&t&&(a.raw=o),a}function parseJSXMemberExpression(e,t,n,r){return scanJSXIdentifier(e),finishNode(t,e,r,{type:"JSXMemberExpression",object:n,property:parseJSXIdentifier(e,t)})}function parseJSXElementName(e,t){const n=getLocation(e);scanJSXIdentifier(e);let r=parseJSXIdentifier(e,t);if(16777237===e.token)return parseJSXNamespacedName(e,t,r,n);for(;consume(e,t,16777229);)r=parseJSXMemberExpression(e,t,r,n);return r}function scanJSXIdentifier(e){const{token:t}=e;if(69632&t){const t=e.index;let n=e.source.charCodeAt(e.index);for(;e.index<e.source.length&&(45===n||cherow.isValidIdentifierPart(n));)n=cherow.Scanner.readNext(e);e.tokenValue+=e.source.substr(t,e.index-t)}return e.token}function parseExpression(e,t){const n=getLocation(e),r=(e.flags,parseExpressionCoverGrammar(e,t,parseAssignmentExpression));return 16777234===e.token?parseSequenceExpression(e,t,r,n):r}function parseSequenceExpression(e,t,n,r){const o=[n];for(;consume(e,t,16777234);)o.push(parseExpressionCoverGrammar(e,t,parseAssignmentExpression));return finishNode(t,e,r,{type:"SequenceExpression",expressions:o})}function parseYieldExpression(e,t,n){524288&t&&cherow.tolerant(e,t,49),expect(e,t,1107316842);let r=null,o=!1;return 1&e.flags||((o=consume(e,t,167774771))||33554432&e.token)&&(r=parseAssignmentExpression(e,t)),finishNode(t,e,n,{type:"YieldExpression",argument:r,delegate:o})}function parseAssignmentExpression(e,t){const n=getLocation(e);let{token:r}=e;if(262144&t&&1073741824&r)return parseYieldExpression(e,t,n);let o=262144&r&&lookahead(e,t,nextTokenisIdentifierOrParen)?parserCoverCallExpressionAndAsyncArrowHead(e,t):parseConditionalExpression(e,t,n);if(10===e.token)return 69632&r&&(4214784&r&&(20480&r&&(e.flags|=64),4194304&r&&(4096&t&&cherow.tolerant(e,t,45),e.flags|=2048)),o=[o]),parseArrowFunction(e,t&=-131073,n,o);if(hasBit(e.token,67108864)){r=e.token,4096&t&&nameIsArgumentsOrEval(o.name)?cherow.tolerant(e,t,15):consume(e,t,83886109)?(4&e.flags||cherow.tolerant(e,t,71),524288&t||reinterpret(e,t,o),134217728&t&&(e.flags|=8),131072&e.token?(setPendingError(e),e.flags|=8192):134217728&t&&266240&t&&1073741824&e.token&&(setPendingError(e),e.flags|=16384)):(isValidSimpleAssignmentTarget(o)||cherow.tolerant(e,t,4),e.flags&=-7,nextToken(e,t));const s=parseExpressionCoverGrammar(e,65536|t,parseAssignmentExpression);return e.pendingExpressionError=null,finishNode(t,e,n,{type:"AssignmentExpression",left:o,operator:cherow.tokenDesc(r),right:s})}return o}function parseConditionalExpression(e,t,n){const r=parseBinaryExpression(e,t,0,n);if(!consume(e,t,22))return r;const o=parseExpressionCoverGrammar(e,-1073741825&t|65536,parseAssignmentExpression);return expect(e,t,16777237),finishNode(t,e,n,{type:"ConditionalExpression",test:r,consequent:o,alternate:parseExpressionCoverGrammar(e,t,parseAssignmentExpression)})}function parseBinaryExpression(e,t,n,r,o=parseUnaryExpression(e,t)){const s=65536&t^65536;for(;hasBit(e.token,167772160);){const a=e.token;if(s&&168834865===a)break;const i=3840&a;if(i+((167775030===a)<<8)<=n)break;nextToken(e,t),o=finishNode(t,e,r,{type:2097152&a?"LogicalExpression":"BinaryExpression",left:o,right:parseBinaryExpression(e,-65537&t,i,getLocation(e)),operator:cherow.tokenDesc(a)})}return o}function parseAwaitExpression(e,t,n){return 524288&t&&cherow.tolerant(e,t,50),expect(e,t,33788013),finishNode(t,e,n,{type:"AwaitExpression",argument:parseUnaryExpression(e,t)})}function parseUnaryExpression(e,t){const n=getLocation(e),{token:r}=e;if(hasBit(r,301989888)){nextToken(e,t),32768&e.flags&&cherow.tolerant(e,t,2);const o=parseExpressionCoverGrammar(e,t,parseUnaryExpression);return 167775030===e.token&&cherow.tolerant(e,t,1,cherow.tokenDesc(e.token)),4096&t&&302002219===r&&("Identifier"===o.type?cherow.tolerant(e,t,41):isPropertyWithPrivateFieldKey(o)&&cherow.tolerant(e,t,42)),finishNode(t,e,n,{type:"UnaryExpression",operator:cherow.tokenDesc(r),argument:o,prefix:!0})}return 131072&t&&131072&r?parseAwaitExpression(e,t,n):parseUpdateExpression(e,t,n)}function parseUpdateExpression(e,t,n){const{token:r}=e;if(hasBit(e.token,570425344)){nextToken(e,t);const o=parseLeftHandSideExpression(e,t,n);return validateUpdateExpression(e,t,o,"Prefix"),finishNode(t,e,n,{type:"UpdateExpression",argument:o,operator:cherow.tokenDesc(r),prefix:!0})}if(4&t&&167774015===r)return parseJSXRootElement(e,268435456|t);const o=parseLeftHandSideExpression(e,t,n);if(hasBit(e.token,570425344)&&!(1&e.flags)){validateUpdateExpression(e,t,o,"Postfix");const r=e.token;return nextToken(e,t),finishNode(t,e,n,{type:"UpdateExpression",argument:o,operator:cherow.tokenDesc(r),prefix:!1})}return o}function parseRestElement(e,t,n=[]){const r=getLocation(e);return expect(e,t,14),134217728&t&&131072&e.token&&(e.flags|=8192),finishNode(t,e,r,{type:"RestElement",argument:parseBindingIdentifierOrPattern(e,t,n)})}function parseSpreadElement(e,t){const n=getLocation(e);return expect(e,t,14),finishNode(t,e,n,{type:"SpreadElement",argument:restoreExpressionCoverGrammar(e,65536|t,parseAssignmentExpression)})}function parseLeftHandSideExpression(e,t,n){return parseCallExpression(e,65536|t,n,1&t&&33566810===e.token?parseCallImportOrMetaProperty(e,65536|t):parseMemberExpression(e,65536|t,n))}function parseMemberExpression(e,t,n,r=parsePrimaryExpression(e,t)){for(;;)switch(e.token){case 16777229:consume(e,t,16777229),e.flags=-3&e.flags|4,r=finishNode(t,e,n,{type:"MemberExpression",object:r,computed:!1,property:parseIdentifierNameOrPrivateName(e,t)});continue;case 41943059:{consume(e,t,41943059),e.flags=-3&e.flags|4;const o=parseExpression(e,t);expect(e,t,20),r=finishNode(t,e,n,{type:"MemberExpression",object:r,computed:!0,property:o});continue}case 33554441:r=finishNode(t,e,n,{type:"TaggedTemplateExpression",tag:r,quasi:parseTemplateLiteral(e,t)});continue;case 33554440:r=finishNode(t,e,n,{type:"TaggedTemplateExpression",tag:r,quasi:parseTemplate(e,16384|t)});continue;default:return r}}function parseCallExpression(e,t,n,r){for(;;){if(r=parseMemberExpression(e,t,n,r),50331659!==e.token)return r;r=finishNode(t,e,n,{type:"CallExpression",callee:r,arguments:parseArgumentList(e,-1073741825&t)})}}function parserCoverCallExpressionAndAsyncArrowHead(e,t){const n=getLocation(e);let r=parseMemberExpression(e,65536|t,n);if(69632&e.token)return 131072&e.token&&cherow.tolerant(e,t,38),parseAsyncArrowFunction(e,t,2,n,[parseAndValidateIdentifier(e,t)]);for(1&e.flags&&cherow.tolerant(e,t,34,"async");50331659===e.token;){r=parseMemberExpression(e,t,n,r);const o=parseAsyncArgumentList(e,t);if(10===e.token){r=parseAsyncArrowFunction(e,t,2,n,o);break}r=finishNode(t,e,n,{type:"CallExpression",callee:r,arguments:o})}return r}function parseArgumentList(e,t){expect(e,t,50331659);const n=[];for(;16!==e.token;)14===e.token?n.push(parseSpreadElement(e,t)):(262144&t&&hasBit(e.token,1073741824)&&(e.flags|=16384,setPendingError(e)),n.push(parseExpressionCoverGrammar(e,65536|t,parseAssignmentExpression))),16!==e.token&&expect(e,t,16777234);return expect(e,t,16),n}function parseAsyncArgumentList(e,t){expect(e,t,50331659);const n=[];let{token:r}=e,o=0;for(;16!==e.token&&(14===e.token?(e.flags|=8,n.push(parseSpreadElement(e,t)),o=2):(r=e.token,o=validateAsyncArgumentList(e,t,o),n.push(restoreExpressionCoverGrammar(e,65536|t,parseAssignmentExpression))),consume(e,t,16777234)&&(e.flags&=-5,2&o&&(o=1)),16!==e.token););return expect(e,t,16),10===e.token&&(1&o?cherow.tolerant(e,t,76):8&o?(4096&t&&cherow.tolerant(e,t,45),e.flags|=2048):16&o?(4096&t&&cherow.tolerant(e,t,49),e.flags|=64):16384&e.flags?cherow.tolerant(e,t,49):(32&o||8192&e.flags)&&cherow.tolerant(e,t,50)),n}function parsePrimaryExpression(e,t){switch(e.token){case 33554434:case 33554435:return parseLiteral(e,t);case 33554551:return parseBigIntLiteral(e,t);case 33619969:return parseIdentifier(e,t);case 33566727:case 33566726:case 33566725:return parseNullOrTrueOrFalseLiteral(e,t);case 33566808:return parseFunctionExpression(e,t);case 33566815:return parseThisExpression(e,t);case 299116:return parseAsyncFunctionOrIdentifier(e,t);case 50331659:return parseCoverParenthesizedExpressionAndArrowParameterList(e,134217728|t);case 41943059:return restoreExpressionCoverGrammar(e,t,parseArrayLiteral);case 41943052:return restoreExpressionCoverGrammar(e,t,parseObjectLiteral);case 115:return parseIdentifierNameOrPrivateName(e,t);case 120:case 33566797:return parseClassExpression(e,t);case 33566811:return parseNewExpressionOrMetaProperty(e,t);case 33566813:return parseSuperProperty(e,t);case 167774773:case 100663333:return cherow.Scanner.scanRegularExpression(e,t),parseRegularExpressionLiteral(e,t);case 33554441:return parseTemplateLiteral(e,t);case 33554440:return parseTemplate(e,t);case 33574984:return parseLetAsIdentifier(e,t);default:return parseAndValidateIdentifier(e,t)}}function parseLetAsIdentifier(e,t){4096&t&&cherow.tolerant(e,t,48);const n=getLocation(e),r=e.tokenValue;return nextToken(e,t),1&e.flags&&41943059===e.token&&cherow.tolerant(e,t,1,"let"),finishNode(t,e,n,{type:"Identifier",name:r})}function parseAsyncFunctionOrIdentifier(e,t){return lookahead(e,t,nextTokenIsFuncKeywordOnSameLine)?parseAsyncFunctionOrAsyncGeneratorExpression(e,t):parseIdentifier(e,t)}function parseIdentifier(e,t){const n=getLocation(e),r=e.tokenValue;nextToken(e,16384|t);const o=finishNode(t,e,n,{type:"Identifier",name:r});return 256&t&&(o.raw=e.tokenRaw),o}function parseRegularExpressionLiteral(e,t){const n=getLocation(e),{tokenRegExp:r,tokenValue:o,tokenRaw:s}=e;nextToken(e,t);const a=finishNode(t,e,n,{type:"Literal",value:o,regex:r});return 8&t&&(a.raw=s),a}function parseLiteral(e,t){const n=getLocation(e),r=e.tokenValue;4096&t&&128&e.flags&&cherow.tolerant(e,t,59),nextToken(e,t);const o=finishNode(t,e,n,{type:"Literal",value:r});return 8&t&&(o.raw=e.tokenRaw),o}function parseBigIntLiteral(e,t){const n=getLocation(e),{tokenValue:r,tokenRaw:o}=e;nextToken(e,t);const s=finishNode(t,e,n,{type:"Literal",value:r,bigint:o});return 8&t&&(s.raw=e.tokenRaw),s}function parseNullOrTrueOrFalseLiteral(e,t){const n=getLocation(e),{token:r}=e,o=cherow.tokenDesc(r);32768&e.flags&&cherow.tolerant(e,t,2),nextToken(e,t);const s=finishNode(t,e,n,{type:"Literal",value:33566727===r?null:"true"===o});return 8&t&&(s.raw=o),s}function parseThisExpression(e,t){32768&e.flags&&cherow.tolerant(e,t,2);const n=getLocation(e);return nextToken(e,536870912|t),finishNode(t,e,n,{type:"ThisExpression"})}function parseIdentifierName(e,t,n){return 69632&n||cherow.tolerant(e,t,3,cherow.tokenDesc(n)),parseIdentifier(e,t)}function parseIdentifierNameOrPrivateName(e,t){if(!consume(e,t,115))return parseIdentifierName(e,t,e.token);const{tokenValue:n}=e,r=getLocation(e),o=n;return nextToken(e,t),finishNode(t,e,r,{type:"PrivateName",name:o})}function parseArrayLiteral(e,t){const n=getLocation(e);expect(e,t,41943059);const r=[];for(;20!==e.token;)consume(e,t,16777234)?r.push(null):14===e.token?(r.push(parseSpreadElement(e,t)),20!==e.token&&(e.flags&=-7,expect(e,t,16777234))):(r.push(restoreExpressionCoverGrammar(e,65536|t,parseAssignmentExpression)),20!==e.token&&expect(e,t,16777234));return expect(e,t,20),finishNode(t,e,n,{type:"ArrayExpression",elements:r})}function parseCoverParenthesizedExpressionAndArrowParameterList(e,t){switch(expect(e,t,50331659),e.token){case 16:if(expect(e,t,16),e.flags&=-7,10===e.token)return[];case 14:{const n=parseRestElement(e,t);return expect(e,t,16),e.flags=-7&e.flags|8,10!==e.token&&cherow.tolerant(e,t,1,cherow.tokenDesc(e.token)),[n]}default:{let n=0;const r=getLocation(e);n=validateCoverParenthesizedExpression(e,n),8388608&e.token&&(n|=16);let o=restoreExpressionCoverGrammar(e,65536|t,parseAssignmentExpression);if(16777234===e.token){n|=1;const s=[o];for(;consume(e,536870912|t,16777234);)switch(e.flags&=-5,e.token){case 14:{2&e.flags||cherow.tolerant(e,t,75),e.flags|=8;const n=parseRestElement(e,t);return expect(e,t,16),10!==e.token&&cherow.tolerant(e,t,76),e.flags&=-3,s.push(n),s}case 16:return expect(e,t,16),10!==e.token&&cherow.tolerant(e,t,1,cherow.tokenDesc(e.token)),s;default:n=validateCoverParenthesizedExpression(e,n),s.push(restoreExpressionCoverGrammar(e,t,parseAssignmentExpression))}o=finishNode(t,e,r,{type:"SequenceExpression",expressions:s})}return expect(e,t,16),10===e.token?(2&n?(4096&t&&cherow.tolerant(e,t,45),e.flags|=2048):4&n?(4096&t&&cherow.tolerant(e,t,48),e.flags|=64):2&e.flags?16384&e.flags?cherow.tolerant(e,t,49):131072&t&&8192&e.flags&&cherow.tolerant(e,t,50):cherow.tolerant(e,t,75),e.flags&=-24579,1&n?o.expressions:[o]):(e.flags&=-24579,isValidSimpleAssignmentTarget(o)||(e.flags&=-5),o)}}}function parseFunctionExpression(e,t){const n=getLocation(e);expect(e,t,33566808);const r=consume(e,t,167774771)?1:0;let o=null;const{token:s}=e;69632&s&&(4194304&s&&(4096&t&&cherow.tolerant(e,t,45),e.flags|=2048),1073741824&e.token&&1&r&&cherow.tolerant(e,t,47),o=parseBindingIdentifier(e,t));const{params:a,body:i}=swapContext(e,-100663297&t,r,parseFormalListAndBody);return finishNode(t,e,n,{type:"FunctionExpression",params:a,body:i,async:!1,generator:!!(1&r),expression:!1,id:o})}function parseAsyncFunctionOrAsyncGeneratorExpression(e,t){const n=getLocation(e);expect(e,t,299116),expect(e,t,33566808);const r=consume(e,t,167774771)?1:0;let o=null;const{token:s}=e;69632&s&&(4194304&s&&(cherow.tolerant(e,t,45),e.flags|=1024),131072&s&&cherow.tolerant(e,t,46),1073741824&e.token&&1&r&&cherow.tolerant(e,t,47),o=parseBindingIdentifier(e,t));const{params:a,body:i}=swapContext(e,-100663297&t,2|r,parseFormalListAndBody);return finishNode(t,e,n,{type:"FunctionExpression",params:a,body:i,async:!0,generator:!!(1&r),expression:!1,id:o})}function parseComputedPropertyName(e,t){expect(e,t,41943059);const n=parseAssignmentExpression(e,65536|t);return expect(e,t,20),n}function parsePropertyName(e,t){switch(e.token){case 33554434:case 33554435:return parseLiteral(e,t);case 41943059:return parseComputedPropertyName(e,t);default:return parseIdentifier(e,t)}}function parseSpreadProperties(e,t){const n=getLocation(e);return expect(e,t,14),8388608&e.token&&(e.flags&=-5),finishNode(t,e,n,{type:"SpreadElement",argument:parseAssignmentExpression(e,65536|t)})}function parseObjectLiteral(e,t){const n=getLocation(e);expect(e,t,41943052);const r=[];for(;17301519!==e.token;)r.push(14===e.token?parseSpreadProperties(e,t):parsePropertyDefinition(e,t)),17301519!==e.token&&expect(e,t,16777234);return expect(e,t,17301519),e.flags&=-513,finishNode(t,e,n,{type:"ObjectExpression",properties:r})}function parsePropertyDefinition(e,t){const n=getLocation(e),r=e.flags;let o,s=consume(e,t,167774771)?34:32;const a=e.token;let i=parsePropertyName(e,t);return 16777216&e.token||(32768&r?cherow.tolerant(e,t,2):2&s||!(262144&a)||1&e.flags?36975===a?(s=-33&s|4,i=parsePropertyName(e,t)):36976===a&&(s=-33&s|8,i=parsePropertyName(e,t)):(s|=consume(e,t,167774771)?3:1,i=parsePropertyName(e,t)),12&s&&2&s&&cherow.tolerant(e,t,1,cherow.tokenDesc(e.token))),50331659===e.token?o=parseMethodDeclaration(e,t,s):(s&=-33,16777237===e.token?(3&s?cherow.tolerant(e,t,1,cherow.tokenDesc(e.token)):41943059!==a&&"__proto__"===e.tokenValue&&(512&e.flags?setPendingExpressionError(e,61):e.flags|=512),expect(e,t,16777237),131072&e.token&&(e.flags|=8192),o=restoreExpressionCoverGrammar(e,t,parseAssignmentExpression)):(3&s||!isValidIdentifier(t,a)?cherow.tolerant(e,t,1,cherow.tokenDesc(a)):266240&t&&1073741824&a&&(setPendingError(e),e.flags|=16384),s|=64,83886109===e.token?(setPendingExpressionError(e,89),expect(e,t,83886109),397312&t&&1073872896&e.token&&(setPendingError(e),e.flags|=1073741824&e.token?16384:8192),o=parseAssignmentPattern(e,t,i,n)):(131072&a&&(131072&t&&cherow.tolerant(e,t,44),setPendingError(e),e.flags|=8192),o=i))),finishNode(t,e,n,{type:"Property",key:i,value:o,kind:4&s|8&s?8&s?"set":"get":"init",computed:41943059===a,method:!!(32&s),shorthand:!!(64&s)})}function parseMethodDeclaration(e,t,n){const r=getLocation(e),o=2&n?1:0,s=1&n?2:0,{params:a,body:i}=swapContext(e,33554432|t,o|s,parseFormalListAndBody,n);return finishNode(t,e,r,{type:"FunctionExpression",params:a,body:i,async:!!(1&n),generator:!!(2&n),expression:!1,id:null})}function parseArrowFunction(e,t,n,r){return e.flags&=-7,1&e.flags&&cherow.tolerant(e,t,34,"=>"),expect(e,t,10),parseArrowBody(e,-131073&t,r,n,0)}function parseAsyncArrowFunction(e,t,n,r,o){return e.flags&=-7,1&e.flags&&cherow.tolerant(e,t,34,"async"),expect(e,t,10),parseArrowBody(e,131072|t,o,r,n)}function parseArrowBody(e,t,n,r,o){e.pendingExpressionError=null;for(const r in n)reinterpret(e,524288|t,n[r]);const s=41943052!==e.token;return finishNode(t,e,r,{type:"ArrowFunctionExpression",body:s?parseExpressionCoverGrammar(e,-786433&t,parseAssignmentExpression):swapContext(e,-1074003969&t|1048576,o,parseFunctionBody),params:n,id:null,async:!!(2&o),generator:!1,expression:s})}function parseFormalListAndBody(e,t,n){const r=parseFormalParameters(e,524288|t,n),o=r.args;return{params:r.params,body:parseFunctionBody(e,-1073741825&t|1048576,o)}}function parseFunctionBody(e,t,n){const r=getLocation(e);expect(e,536870912|t,41943052);const o=[];for(;33554435===e.token;){const{tokenRaw:n,tokenValue:r}=e;o.push(parseDirective(e,t)),12===n.length&&"use strict"===r&&(8&e.flags?cherow.tolerant(e,t,62):1088&e.flags?cherow.tolerant(e,t,48):2048&e.flags&&cherow.tolerant(e,t,45),t|=4096)}4096&t&&validateParams(e,t,n);const{labelSet:s}=e;e.labelSet={};const a=e.flags;for(e.flags=-3121&e.flags|4;17301519!==e.token;)o.push(parseStatementListItem(e,t));return 32&a&&(e.flags|=32),16&a&&(e.flags|=16),e.labelSet=s,expect(e,t,17301519),finishNode(t,e,r,{type:"BlockStatement",body:o})}function parseFormalParameters(e,t,n){expect(e,t,50331659),e.flags&=-73;const r=[],o=[];for(;16!==e.token;){if(14===e.token){8&n&&cherow.tolerant(e,t,65),e.flags|=8,o.push(parseRestElement(e,t,r));break}if(o.push(parseFormalParameterList(e,t,r)),!consume(e,t,16777234))break;if(16===e.token)break}return 8&n&&1!==o.length&&cherow.tolerant(e,t,64,"Setter","one",""),4&n&&o.length>0&&cherow.tolerant(e,t,64,"Getter","no","s"),expect(e,t,16),{params:o,args:r}}function parseFormalParameterList(e,t,n){const r=getLocation(e);69632&e.token?(hasBit(e.token,20480)&&(4096&t&&cherow.tolerant(e,t,48),e.flags|=1024),hasBit(e.token,4194304)&&(4096&t&&cherow.tolerant(e,t,45),e.flags|=2048)):e.flags|=8;const o=parseBindingIdentifierOrPattern(e,t,n);return consume(e,t,83886109)?(1073872896&e.token&&393216&t&&cherow.tolerant(e,t,131072&e.token?50:49),e.flags|=8,finishNode(t,e,r,{type:"AssignmentPattern",left:o,right:parseExpressionCoverGrammar(e,t,parseAssignmentExpression)})):o}function parseClassExpression(e,t){const n=getLocation(e);let r=[];2048&t&&(r=parseDecorators(e,t)),expect(e,536870912|t,33566797);const{token:o}=e;let s=0,a=null,i=null;41943052!==o&&12372!==o&&(131072&t&&131072&o&&cherow.tolerant(e,t,46),a=parseBindingIdentifier(e,4096|t)),consume(e,t,12372)&&(i=parseLeftHandSideExpression(e,4096|t,n),s|=512);const c=parseClassBodyAndElementList(e,4096|t,s);return finishNode(t,e,n,2048&t?{type:"ClassExpression",id:a,superClass:i,body:c,decorators:r}:{type:"ClassExpression",id:a,superClass:i,body:c})}function parseClassBodyAndElementList(e,t,n){const r=getLocation(e);expect(e,t,41943052);const o=[];let s=[];for(;17301519!==e.token;)consume(e,t,17301521)||(2048&t&&(s=parseDecorators(e,t),17301519===e.token&&cherow.report(e,90),0!==s.length&&"constructor"===e.tokenValue&&cherow.report(e,91)),o.push(1&t&&115===e.token?parsePrivateFields(e,t,s):parseClassElement(e,t,n,s)));return expect(e,t,17301519),finishNode(t,e,r,{type:"ClassBody",body:o})}function parseClassElement(e,t,n,r){const o=getLocation(e);let{tokenValue:s,token:a}=e;const i=e.flags;consume(e,t,167774771)&&(n|=2),41943059===e.token&&(n|=16),"constructor"===e.tokenValue&&(2&n?cherow.tolerant(e,t,43,"generator"):512&n&&(t|=67108864),n|=256);let c,p=parsePropertyName(e,t);if(!(16777216&e.token)){if(32768&i&&cherow.tolerant(e,t,2),20585===a&&(a=e.token,consume(e,t,167774771)&&(n|=2),s=e.tokenValue,41943059===e.token&&(n|=16),"prototype"===e.tokenValue&&cherow.tolerant(e,t,63),n|=128,p=parsePropertyName(e,t),1&t&&isInstanceField(e)))return"constructor"===s&&cherow.tolerant(e,t,1,cherow.tokenDesc(e.token)),parseFieldDefinition(e,t,p,n,o,r);50331659!==e.token&&(!(262144&a)||2&n||1&e.flags?36975!==a&&36976!==a||(n|=36975===a?4:8,s=e.tokenValue,41943059===e.token&&(n|=16),p=parsePropertyName(e,t)):(a=e.token,s=e.tokenValue,n|=1,consume(e,t,167774771)&&(n|=2),41943059===e.token&&(n|=16),p=parsePropertyName(e,t)),"prototype"===s?cherow.tolerant(e,t,63):128&n||"constructor"!==s||cherow.tolerant(e,t,43,"accessor"))}if(50331659===e.token)c=parseMethodDeclaration(e,t,n);else{if(1&t)return parseFieldDefinition(e,t,p,n,o,r);cherow.tolerant(e,t,1,cherow.tokenDesc(a))}const u=256&n?"constructor":4&n?"get":8&n?"set":"method";return finishNode(t,e,o,2048&t?{type:"MethodDefinition",kind:u,static:!!(128&n),computed:!!(16&n),key:p,value:c,decorators:r}:{type:"MethodDefinition",kind:u,static:!!(128&n),computed:!!(16&n),key:p,value:c})}function parseFieldDefinition(e,t,n,r,o,s){256&r&&cherow.tolerant(e,t,0);let a=null;return 3&r&&cherow.tolerant(e,t,0),consume(e,t,83886109)&&(4194304&e.token&&cherow.tolerant(e,t,45),a=parseAssignmentExpression(e,t)),consume(e,t,16777234),finishNode(t,e,o,2048&t?{type:"FieldDefinition",key:n,value:a,computed:!!(16&r),static:!!(128&r),decorators:s}:{type:"FieldDefinition",key:n,value:a,computed:!!(16&r),static:!!(128&r)})}function parsePrivateName(e,t,n){const r=e.tokenValue;return nextToken(e,t),finishNode(t,e,n,{type:"PrivateName",name:r})}function parsePrivateFields(e,t,n){const r=getLocation(e);expect(e,32768|t,115),"constructor"===e.tokenValue&&cherow.tolerant(e,t,39);const o=parsePrivateName(e,t,r);if(50331659===e.token)return parsePrivateMethod(e,t,o,r,n);let s=null;return consume(e,t,83886109)&&(4194304&e.token&&cherow.tolerant(e,t,45),s=parseAssignmentExpression(e,t)),consume(e,t,16777234),finishNode(t,e,r,2048&t?{type:"FieldDefinition",key:o,value:s,computed:!1,static:!1,decorators:n}:{type:"FieldDefinition",key:o,value:s,computed:!1,static:!1})}function parsePrivateMethod(e,t,n,r,o){const s=parseMethodDeclaration(e,4096|t,0);return e.flags&=-7,finishNode(t,e,r,2048&t?{type:"MethodDefinition",kind:"method",static:!1,computed:!1,key:n,value:s,decorators:o}:{type:"MethodDefinition",kind:"method",static:!1,computed:!1,key:n,value:s})}function parseCallImportOrMetaProperty(e,t){const n=getLocation(e),r=parseIdentifier(e,t);if(consume(e,t,16777229)){if(8192&t&&"meta"===e.tokenValue)return parseMetaProperty(e,t,r,n);cherow.tolerant(e,t,1,cherow.tokenDesc(e.token))}let o=parseImportExpression(e,t,n);expect(e,t,50331659);const s=parseExpressionCoverGrammar(e,65536|t,parseAssignmentExpression);return expect(e,t,16),o=finishNode(t,e,n,{type:"CallExpression",callee:o,arguments:[s]})}function parseImportExpression(e,t,n){return finishNode(t,e,n,{type:"Import"})}function parseMetaProperty(e,t,n,r){return finishNode(t,e,r,{meta:n,type:"MetaProperty",property:parseIdentifier(e,t)})}function parseNewExpressionOrMetaProperty(e,t){const n=getLocation(e),r=parseIdentifier(e,t);return consume(e,t,16777229)?("target"===e.tokenValue&&1572864&t||cherow.tolerant(e,t,51),parseMetaProperty(e,t,r,n)):finishNode(t,e,n,{type:"NewExpression",callee:parseImportOrMemberExpression(e,t,n),arguments:50331659===e.token?parseArgumentList(e,t):[]})}function parseImportOrMemberExpression(e,t,n){const{token:r}=e;return 1&t&&33566810===r?(lookahead(e,t,nextTokenIsLeftParen)&&cherow.tolerant(e,t,1,cherow.tokenDesc(r)),parseCallImportOrMetaProperty(e,t)):parseMemberExpression(e,t,n)}function parseSuperProperty(e,t){const n=getLocation(e);switch(expect(e,t,33566813),e.token){case 50331659:67108864&t||cherow.tolerant(e,t,52);break;case 41943059:case 16777229:33554432&t||cherow.tolerant(e,t,53);break;default:cherow.tolerant(e,t,54)}return finishNode(t,e,n,{type:"Super"})}function parseTemplateLiteral(e,t){return finishNode(t,e,getLocation(e),{type:"TemplateLiteral",expressions:[],quasis:[parseTemplateSpans(e,t)]})}function parseTemplateHead(e,t,n=null,r,o){return e.token=cherow.Scanner.consumeTemplateBrace(e,t),finishNode(t,e,o,{type:"TemplateElement",value:{cooked:n,raw:r},tail:!1})}function parseTemplate(e,t,n=[],r=[]){const o=getLocation(e),{tokenValue:s,tokenRaw:a}=e;expect(e,t,33554440),n.push(parseExpression(e,t));const i=getLocation(e);return r.push(parseTemplateHead(e,t,s,a,o)),33554441===e.token?r.push(parseTemplateSpans(e,t,i)):parseTemplate(e,t,n,r),finishNode(t,e,o,{type:"TemplateLiteral",expressions:n,quasis:r})}function parseTemplateSpans(e,t,n=getLocation(e)){const{tokenValue:r,tokenRaw:o}=e;return expect(e,t,33554441),finishNode(t,e,n,{type:"TemplateElement",value:{cooked:r,raw:o},tail:!0})}function parseDecoratorList(e,t){const n=getLocation(e);return finishNode(t,e,n,{type:"Decorator",expression:parseLeftHandSideExpression(e,t,n)})}function parseDecorators(e,t){const n=[];for(;consume(e,t,120);)n.push(parseDecoratorList(e,1073741824|t));return n}function parseMappedTypeParameter(e,t){const n=cherow.getLocation(e),r=parseIdentifier(e,t);cherow.expect(e,t,168834865);parseType(e,t);return cherow.finishNode(t,e,n,{type:"TypeParameter",name:r})}function parseIntersectionType(e,t){const n=cherow.getLocation(e),r=parseTypeOperator(e,t);if(167773508!==e.token)return r;const o=[r];for(;cherow.consume(e,t,167773508);)o.push(parseTypeOperator(e,t));return cherow.finishNode(t,e,n,{type:"TSIntersectionType",types:o})}function parseTypeParameter(e,t){const n=cherow.getLocation(e),{tokenValue:r}=e;return cherow.nextToken(e,t),cherow.consume(e,t,83886109),cherow.finishNode(t,e,n,{type:"TSTypeParameter",name:r,constraint:cherow.consume(e,t,12372)?parseType(e,t):null,default:cherow.consume(e,t,83886109)?parseType(e,t):null})}function parseTypeParameters(e,t){const n=[];if(167774015!==e.token)return n;const r=cherow.getLocation(e);for(167774015===e.token||25===e.token?cherow.nextToken(e,t):cherow.report(e,0);!cherow.consume(e,t,167774016);)n.push(parseTypeParameter(e,t));return cherow.finishNode(t,e,r,{type:"TSTypeParameterDeclaration",params:n})}function parseFunctionType(e,t){const n=cherow.getLocation(e),r=parseTypeParameters(e,t);cherow.expect(e,t,50331659);const o=[];for(;16!==e.token;)o.push(14===e.token?parseRestElement(e,t):parseBindingIdentifier(e,t)),cherow.consume(e,t,16777234);cherow.expect(e,t,16);let s=null;return 10===e.token&&(s=parseTypeOrTypePredicateAnnotation(e,t,10)),cherow.finishNode(t,e,n,{type:"TSFunctionType",typeParameters:r,parameters:o,typeAnnotation:s})}function parseTypeOrTypePredicateAnnotation(e,t,n){cherow.expect(e,t,n);65536&e.token&&16777237===e.token&&parseTypeAnnotation(e,t);return parseTypeAnnotation(e,t,!1)}function parseConstructorType(e,t){const n=cherow.getLocation(e);return cherow.expect(e,t,33566811),cherow.finishNode(t,e,n,{type:"TSConstructorType"})}function parseType(e,t){return isStartOfFunctionType(e,t)?parseFunctionType(e,t):cherow.consume(e,t,33566811)?parseConstructorType(e,t):parseUnionType(e,t)}function parseUnionType(e,t){const n=cherow.getLocation(e),r=parseIntersectionType(e,t);if(167772997!==e.token)return r;const o=[r];for(;cherow.consume(e,t,167772997);)o.push(parseIntersectionType(e,t));return cherow.finishNode(t,e,n,{type:"TSUnionType",types:o})}function parseMappedType(e,t){const n=cherow.getLocation(e);cherow.expect(e,t,41943052);const r=cherow.consume(e,t,65659);cherow.expect(e,t,41943059);const o=parseMappedTypeParameter(e,t);cherow.expect(e,t,20);const s=cherow.consume(e,t,22);let a;return cherow.consume(e,t,16777237)&&(a=parseType(e,t)),cherow.consumeSemicolon(e,t),cherow.expect(e,t,17301519),cherow.finishNode(t,e,n,{type:"TSMappedType",readonly:r,typeParameter:o,optional:s,typeAnnotation:a})}function parseIdentifierTypedNode(e,t){const n=cherow.getLocation(e);return keywordTypeFromName(e.tokenValue)?(cherow.expect(e,t,33619969),cherow.finishNode(t,e,n,{type:keywordTypeFromName(e.tokenValue)})):parseTypeReference(e,t)}function parseEntityName(e,t){const n=cherow.getLocation(e);let r=parseIdentifier(e,t);for(;cherow.consume(e,t,16777229);)r=cherow.finishNode(t,e,n,{type:"TSQualifiedName",left:r,right:parseIdentifier(e,t)});return r}function parseTypeArguments(e,t){const n=cherow.getLocation(e);cherow.expect(e,t,167774015);const r=[];for(;167774016!==e.token;)r.push(parseType(e,t));return cherow.expect(e,t,167774016),cherow.finishNode(t,e,n,{type:"TypeParameterInstantiation",params:r})}function parseTypeReference(e,t){const n=cherow.getLocation(e),r=parseEntityName(e,t);let o=[];return 1&e.flags||167774015!==e.token||(o=parseTypeArguments(e,t)),cherow.finishNode(t,e,n,{type:"TSTypeReference",typeName:r,typeParameters:o})}function parseNullTypedNode(e,t){const n=cherow.getLocation(e);return cherow.expect(e,t,33566727),cherow.finishNode(t,e,n,{type:"TSNullKeyword"})}function parseSubtractTypeNode(e,t){const n=cherow.getLocation(e);return cherow.expect(e,t,436209968),33554434!==e.token&&cherow.report(e,0),cherow.finishNode(t,e,n,{type:"TSLiteralType",literal:cherow.Parser.parseLiteral(e,t)})}function parseThisTypeNode(e,t){const n=cherow.getLocation(e);return cherow.expect(e,t,33566815),cherow.finishNode(t,e,n,{type:"TSThisType",literal:cherow.Parser.parseLiteral(e,t)})}function parseThisTypePredicate(e,t,n){const r=cherow.getLocation(e);return cherow.nextToken(e,t),cherow.finishNode(t,e,r,{type:"TSTypePredicate",parameterName:n,typeAnnotation:parseTypeAnnotation(e,t,!1)})}function parseTypeAnnotation(e,t,n=!0){const r=cherow.getLocation(e);return n&&cherow.expect(e,t,16777237),cherow.finishNode(t,e,r,{type:"TypeAnnotation",typeAnnotation:parseType(e,t)})}function parseVoidTypedNode(e,t){const n=cherow.getLocation(e);return cherow.expect(e,t,302002220),cherow.finishNode(t,e,n,{type:"TSVoidKeyword"})}function parseLiteralTypedNode(e,t){const n=cherow.getLocation(e);let r;switch(e.token){case 33554435:case 33554434:r=cherow.Parser.parseLiteral(e,t);break;case 33566726:r={type:"Literal",value:!0},cherow.nextToken(e,t);break;case 33566725:r={type:"Literal",value:!1},cherow.nextToken(e,t);break;default:cherow.report(e,0)}return cherow.finishNode(t,e,n,{type:"TSLiteralType",literal:r})}function parseNonArrayType(e,t){switch(e.token){case 33619969:return parseIdentifierTypedNode(e,t);case 302002220:return parseVoidTypedNode(e,t);case 33566727:return parseNullTypedNode(e,t);case 33554435:case 33554434:case 33566726:case 33566725:return parseLiteralTypedNode(e,t);case 436209968:return parseSubtractTypeNode(e,t);case 33566815:const n=parseThisTypeNode(e,t);switch(e.token){case 65660:if(!(1&e.flags))return parseThisTypePredicate(e,t,n);default:return n}case 302002218:return parseTypeQuery(e,t);case 41943052:return lookahead(e,t,iStartOfMappedType)?parseMappedType(e,t):parseTypeLiteral(e,t);case 41943059:return parseTupleType(e,t);case 50331659:return parseParenthesizedType(e,t);default:cherow.report(e,0)}}function parseParenthesizedType(e,t){const n=cherow.getLocation(e);cherow.expect(e,t,50331659);const r=parseType(e,t);return cherow.expect(e,t,16),cherow.finishNode(t,e,n,{type:"TSParenthesizedType",typeAnnotation:r})}function parseTupleType(e,t){const n=cherow.getLocation(e);cherow.expect(e,t,41943059);const r=[parseType(e,t)];for(;cherow.consume(e,t,16777234);)r.push(parseType(e,t));return cherow.expect(e,t,20),cherow.finishNode(t,e,n,{type:"TSTupleType",elementTypes:r})}function parseTypeLiteral(e,t){const n=cherow.getLocation(e);return cherow.finishNode(t,e,n,{type:"TSTypeLiteral",members:parseObjectTypeMembers(e,t)})}function parseTypeQuery(e,t){const n=cherow.getLocation(e);return cherow.expect(e,t,65658),cherow.finishNode(t,e,n,{type:"TSTypeQuery",exprName:parseEntityName(e,t)})}function parseIndexSignature(e,t){if(41943059!==e.token||!lookahead(e,t,isUnambiguouslyIndexSignature))return;const n=cherow.getLocation(e);cherow.expect(e,t,41943059);const r=parseIdentifier(e,t);parseTypeAnnotation(e,t,!0);cherow.expect(e,t,20);const o=16777237===e.token?parseTypeAnnotation(e,t,!0):null;return 16777234!==e.token&&cherow.consumeSemicolon(e,t),cherow.finishNode(t,e,n,{type:"TSIndexSignature",typeAnnotation:o,parameters:[r]})}function parsePropertyOrMethodSignature(e,t,n){const r=cherow.getLocation(e);cherow.Parser.parsePropertyName(e,t),cherow.consume(e,t,22);if(n||50331659!==e.token&&167774015!==e.token){const o=parseTypeAnnotation(e,t);return 17301521===e.token&&cherow.consumeSemicolon(e,t),cherow.finishNode(t,e,r,{type:"TSPropertySignature",readonly:n,typeAnnotation:o})}return 16777234!==e.token&&cherow.consumeSemicolon(e,t),cherow.finishNode(t,e,r,{type:"TSMethodSignature",readonly:n})}function parseTypeMember(e,t){50331659===e.token||e.token;const n=parseIndexSignature(e,t);return n||parsePropertyOrMethodSignature(e,t,!1)}function parseObjectTypeMembers(e,t){const n=[];for(cherow.expect(e,t,41943052);17301519!==e.token;)n.push(parseTypeMember(e,t));return cherow.expect(e,t,17301519),n}function parseArrayType(e,t){const n=cherow.getLocation(e);let r=parseNonArrayType(e,t);for(;!(1&e.flags)&&cherow.consume(e,t,41943059);)if(cherow.consume(e,t,20))r=cherow.finishNode(t,e,n,{type:"TSArrayType",elementType:r});else{const o=parseType(e,t);cherow.expect(e,t,20),r=cherow.finishNode(t,e,n,{type:"TSIndexedAccessType",elementType:r,indexType:o})}return r}function parseTypeOperator(e,t){if(65658!==e.token)return parseArrayType(e,t);const n=cherow.getLocation(e);return cherow.expect(e,t,65658),cherow.finishNode(t,e,n,{type:"TSTypeOperator",operator:cherow.tokenDesc(65658),typeAnnotation:parseTypeOperator(e,t)})}function parseBindingIdentifierOrPattern(e,t,n=[]){const{token:r}=e;return 8388608&r?41943052===r?parserObjectAssignmentPattern(e,t):parseArrayAssignmentPattern(e,t,n):(1073872896&r&&(131072&r&&139264&t?cherow.tolerant(e,t,46):1073741824&r&&266240&t&&cherow.tolerant(e,t,47)),n.push(e.tokenValue),parseBindingIdentifier(e,t))}function parseBindingIdentifier(e,t){const{token:n}=e;4194304&n?(4096&t&&cherow.tolerant(e,t,15),e.flags|=2048):4194304&t&&33574984===n?cherow.tolerant(e,t,25):hasBit(n,20480)?(4096&t&&cherow.tolerant(e,t,1,cherow.tokenDesc(n)),e.flags|=1024):isValidIdentifier(t,n)||cherow.tolerant(e,t,1,cherow.tokenDesc(n));const r=getLocation(e),o=e.tokenValue;return nextToken(e,t),finishNode(t,e,r,{type:"Identifier",name:o,typeAnnotation:16777237===e.token?parseTypeAnnotation(e,t):null})}function parseAssignmentRestElement(e,t,n){const r=getLocation(e);expect(e,t,14);const o=parseBindingIdentifierOrPattern(e,t,n);return 16777234===e.token&&cherow.tolerant(e,t,86),finishNode(t,e,r,{type:"RestElement",argument:o})}function assignmentRestProperty(e,t){const n=getLocation(e);expect(e,t,14);const{token:r}=e,o=parseBindingIdentifierOrPattern(e,t);return hasBit(r,8388608)&&cherow.tolerant(e,t,92),16777234===e.token&&cherow.tolerant(e,t,86),finishNode(t,e,n,{type:"RestElement",argument:o})}function parseArrayAssignmentPattern(e,t,n){const r=getLocation(e);expect(e,t,41943059);const o=[];for(;20!==e.token;)if(consume(e,t,16777234))o.push(null);else{if(14===e.token){o.push(parseAssignmentRestElement(e,t,n));break}o.push(parseExpressionCoverGrammar(e,65536|t,parseBindingInitializer)),20!==e.token&&expect(e,t,16777234)}return expect(e,t,20),finishNode(t,e,r,{type:"ArrayPattern",elements:o})}function parserObjectAssignmentPattern(e,t){const n=getLocation(e),r=[];for(expect(e,t,41943052);17301519!==e.token;){if(14===e.token){r.push(assignmentRestProperty(e,t));break}r.push(parseAssignmentProperty(e,t)),17301519!==e.token&&expect(e,t,16777234)}return expect(e,t,17301519),finishNode(t,e,n,{type:"ObjectPattern",properties:r})}function parseAssignmentPattern(e,t,n,r){return finishNode(t,e,r,{type:"AssignmentPattern",left:n,right:parseExpressionCoverGrammar(e,65536|t,parseAssignmentExpression)})}function parseBindingInitializer(e,t){const n=getLocation(e),r=parseBindingIdentifierOrPattern(e,t);return consume(e,t,83886109)?finishNode(t,e,n,{type:"AssignmentPattern",left:r,right:parseAssignmentExpression(e,65536|t)}):r}function parseAssignmentProperty(e,t){const n=getLocation(e),{token:r}=e;let o,s,a=!1,i=!1;if(69632&r)if(o=parseIdentifier(e,t),i=!consume(e,t,16777237)){const a=consume(e,t,83886109);262144&t&&1073741824&r&&cherow.tolerant(e,t,47),isValidIdentifier(t,r)||cherow.tolerant(e,t,44),s=a?parseAssignmentPattern(e,t,o,n):o}else s=parseBindingInitializer(e,t);else a=41943059===r,o=parsePropertyName(e,t),expect(e,t,16777237),s=parseExpressionCoverGrammar(e,t,parseBindingInitializer);return finishNode(t,e,n,{type:"Property",kind:"init",key:o,computed:a,value:s,method:!1,shorthand:i})}function parseClassDeclaration(e,t){const n=getLocation(e);let r=[];2048&t&&(r=parseDecorators(e,t)),expect(e,536870912|t,33566797);const o=16777216&t&&33619969!==e.token?null:parseBindingIdentifier(e,536875008|t);let s=0,a=null;consume(e,t,12372)&&(a=parseLeftHandSideExpression(e,4096|t,n),s|=512);const i=parseClassBodyAndElementList(e,36864|-16777217&t,s);return finishNode(t,e,n,2048&t?{type:"ClassDeclaration",id:o,superClass:a,body:i,decorators:r}:{type:"ClassDeclaration",id:o,superClass:a,body:i})}function parseFunctionDeclaration(e,t){const n=getLocation(e);expect(e,t,33566808);let r=0;return consume(e,t,167774771)&&(2097152&t&&!(1048576&t)&&cherow.tolerant(e,t,20),r=1),parseFunctionDeclarationBody(e,t,r,n)}function parseFunctionDeclarationBody(e,t,n,r){const o=parseFunctionDeclarationName(e,t),{params:s,body:a}=swapContext(e,-117440513&t,n,parseFormalListAndBody);return finishNode(t,e,r,{type:"FunctionDeclaration",params:s,body:a,async:!!(2&n),generator:!!(1&n),expression:!1,id:o})}function parseAsyncFunctionOrAsyncGeneratorDeclaration(e,t){const n=getLocation(e);expect(e,t,299116),expect(e,t,33566808);return parseFunctionDeclarationBody(e,t,2|(consume(e,t,167774771)?1:0),n)}function parseFunctionDeclarationName(e,t){const{token:n}=e;let r=null;return 262144&t&&1073741824&n&&cherow.tolerant(e,t,47),131072&t&&131072&n&&cherow.tolerant(e,t,46),50331659!==n?r=parseBindingIdentifier(e,t):16777216&t||cherow.tolerant(e,t,37),r}function parseVariableDeclaration(e,t,n){const r=getLocation(e),o=0!=(8388608&e.token),s=parseBindingIdentifierOrPattern(e,t);let a=null;return consume(e,536870912|t,83886109)?(a=parseExpressionCoverGrammar(e,-12582913&t,parseAssignmentExpression),1048576&e.token&&(8388608&t||o)&&(168834865===e.token?(4329472&t||o)&&cherow.tolerant(e,t,23,cherow.tokenDesc(e.token)):cherow.tolerant(e,t,23,cherow.tokenDesc(e.token)))):1048576&e.token||!n&&!o||cherow.tolerant(e,t,22,n?"const":"destructuring"),finishNode(t,e,r,{type:"VariableDeclarator",init:a,id:s})}function parseVariableDeclarationList(e,t,n){const r=[parseVariableDeclaration(e,t,n)];for(;consume(e,t,16777234);)r.push(parseVariableDeclaration(e,t,n));return 8388608&t&&1048576&e.token&&1!==r.length&&cherow.tolerant(e,t,24,cherow.tokenDesc(e.token)),r}function parseModuleItemList(e,t){nextToken(e,t);const n=[];for(;524288!==e.token;)n.push(33554435===e.token?parseDirective(e,t):parseModuleItem(e,65536|t));return n}function parseModuleItem(e,t){switch(e.token){case 120:return parseDecorators(e,t);case 12371:return parseExportDeclaration(e,t);case 33566810:if(!(1&t&&lookahead(e,t,nextTokenIsLeftParenOrPeriod)))return parseImportDeclaration(e,t);default:return parseStatementListItem(e,t)}}function parseExportDeclaration(e,t){const n=getLocation(e),r=[];let o=null,s=null;switch(expect(e,536870912|t,12371),e.token){case 167774771:return parseExportAllDeclaration(e,t,n);case 12368:return parseExportDefault(e,t,n);case 41943052:{expect(e,t,41943052);let n=!1;for(;17301519!==e.token;)12288&e.token&&(n=!0,setPendingError(e)),r.push(parseNamedExportDeclaration(e,t)),17301519!==e.token&&expect(e,t,16777234);expect(e,536870912|t,17301519),36977===e.token?o=parseModuleSpecifier(e,t):n&&cherow.tolerant(e,t,44),consumeSemicolon(e,t);break}case 33566797:s=parseClassDeclaration(e,t);break;case 33574984:case 33566793:s=parseVariableStatement(e,4194304|t);break;case 33566791:s=parseVariableStatement(e,t);break;case 33566808:s=parseFunctionDeclaration(e,t);break;case 299116:if(lookahead(e,t,nextTokenIsFuncKeywordOnSameLine)){s=parseAsyncFunctionOrAsyncGeneratorDeclaration(e,t);break}default:cherow.report(e,1,cherow.tokenDesc(e.token))}return finishNode(t,e,n,{type:"ExportNamedDeclaration",source:o,specifiers:r,declaration:s})}function parseExportAllDeclaration(e,t,n){expect(e,t,167774771);const r=parseModuleSpecifier(e,t);return consumeSemicolon(e,t),finishNode(t,e,n,{type:"ExportAllDeclaration",source:r})}function parseNamedExportDeclaration(e,t){const n=getLocation(e),r=parseIdentifierName(e,536870912|t,e.token);return finishNode(t,e,n,{type:"ExportSpecifier",local:r,exported:consume(e,t,36971)?parseIdentifierName(e,t,e.token):r})}function parseExportDefault(e,t,n){let r;switch(expect(e,536870912|t,12368),e.token){case 33566808:r=parseFunctionDeclaration(e,16777216|t);break;case 120:case 33566797:r=parseClassDeclaration(e,-65537&t|16777216);break;case 299116:r=parseAsyncFunctionOrAssignmentExpression(e,16777216|t);break;default:r=parseAssignmentExpression(e,65536|t),consumeSemicolon(e,t)}return finishNode(t,e,n,{type:"ExportDefaultDeclaration",declaration:r})}function parseImportDeclaration(e,t){const n=getLocation(e);let r;expect(e,t,33566810);let o=[];return 33554435===e.token?r=parseLiteral(e,t):(o=parseImportClause(e,536870912|t),r=parseModuleSpecifier(e,t)),consumeSemicolon(e,t),finishNode(t,e,n,{type:"ImportDeclaration",specifiers:o,source:r})}function parseImportClause(e,t){const n=[];switch(e.token){case 33619969:if(n.push(parseImportDefaultSpecifier(e,t)),consume(e,t,16777234))switch(e.token){case 167774771:parseImportNamespaceSpecifier(e,t,n);break;case 41943052:parseNamedImports(e,t,n);break;default:cherow.tolerant(e,t,1,cherow.tokenDesc(e.token))}break;case 41943052:parseNamedImports(e,t,n);break;case 167774771:parseImportNamespaceSpecifier(e,t,n);break;default:cherow.report(e,1,cherow.tokenDesc(e.token))}return n}function parseNamedImports(e,t,n){for(expect(e,t,41943052);17301519!==e.token;)n.push(parseImportSpecifier(e,t)),17301519!==e.token&&expect(e,t,16777234);expect(e,t,17301519)}function parseImportSpecifier(e,t){const n=getLocation(e),{token:r}=e,o=parseIdentifierName(e,536870912|t,r);let s;return 36971===e.token?(expect(e,t,36971),s=parseBindingIdentifier(e,t)):(hasBit(r,12288)&&cherow.tolerant(e,t,44),hasBit(r,4194304)&&cherow.tolerant(e,t,45),s=o),finishNode(t,e,n,{type:"ImportSpecifier",local:s,imported:o})}function parseImportNamespaceSpecifier(e,t,n){const r=getLocation(e);expect(e,t,167774771),expect(e,t,36971,80);const o=parseBindingIdentifier(e,t);n.push(finishNode(t,e,r,{type:"ImportNamespaceSpecifier",local:o}))}function parseModuleSpecifier(e,t){return expect(e,t,36977),33554435!==e.token&&cherow.report(e,1,cherow.tokenDesc(e.token)),parseLiteral(e,t)}function parseImportDefaultSpecifier(e,t){return finishNode(t,e,getLocation(e),{type:"ImportDefaultSpecifier",local:parseIdentifier(e,t)})}function parseAsyncFunctionOrAssignmentExpression(e,t){return lookahead(e,t,nextTokenIsFuncKeywordOnSameLine)?parseAsyncFunctionOrAsyncGeneratorDeclaration(e,16777216|t):parseAssignmentExpression(e,65536|t)}function createParser(e,t){return{source:e,length:e.length,index:0,line:1,column:0,startIndex:0,startColumn:0,startLine:1,lastIndex:0,lastColumn:0,lastLine:0,pendingExpressionError:void 0,flags:4,token:524288,tokenRaw:"",lastValue:0,comments:[],sourceFile:t,tokenRegExp:void 0,tokenValue:void 0,labelSet:void 0,errorLocation:void 0,errors:[]}}function parse(e,t,n){let r="";t&&(t.next&&(n|=1),t.jsx&&(n|=4),t.ranges&&(n|=2),t.loc&&(n|=16),t.raw&&(n|=8),t.rawIdentifier&&(n|=256),t.globalReturn&&(n|=32),t.skipShebang&&(n|=128),t.tolerant&&(n|=512),t.source&&(r=t.source),t.comments&&(n|=64),t.impliedStrict&&(n|=4096),t.experimental&&(n|=2048),t.node&&(n|=1024));const o=createParser(e,r),s=8192&n?parseModuleItemList(o,n):parseStatementList(o,n),a={type:"Program",sourceType:8192&n?"module":"script",body:s};return 2&n&&(a.start=0,a.end=e.length),16&n&&(a.loc={start:{line:1,column:0},end:{line:o.line,column:o.column}},r&&(a.loc.source=r)),64&n&&(a.comments=o.comments),512&n&&(a.errors=o.errors),a}function parseStatementList(e,t){const n=[];for(nextToken(e,536870912|t);33554435===e.token;)4096&t||12!==e.tokenRaw.length||"use strict"!==e.tokenValue||(t|=4096),n.push(parseDirective(e,t));for(;524288!==e.token;)n.push(parseStatementListItem(e,t));return n}function parseTS(e,t){return t&&t.module?parse(e,t,12288):parse(e,t,0)}exports.parseTS=parseTS;
